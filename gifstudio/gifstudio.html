<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>GIF-Studio – Background Removal</title>
  <link rel="stylesheet" href="gifstudio.css" />
</head>
<body>
  <header>
    <h1>🎬 GIF-Studio</h1>
    <button id="backBtn" onclick="window.location.href='../index.html'">⬅ Zurück</button>
  </header>

  <main>
    <div class="controls">
      <label class="file-upload">
        <input type="file" id="gifInput" accept="image/gif">
        <span>📂 GIF auswählen</span>
      </label>

      <button id="decodeBtn">🔍 Zerlegen</button>
      <button id="playBtn">▶️ Abspielen</button>
      <button id="rotateBtn">↩ Drehen</button>
      <button id="flipBtn">🔁 Spiegeln</button>
      <button id="saveFramesBtn">💾 Frames speichern</button>
    </div>

    <div id="previewContainer">
      <canvas id="gifCanvas"></canvas>

      <div id="frameStrip"></div>

      <div id="bgTools">
        <h3>Hintergrund entfernen / ersetzen</h3>
        <div class="row">
          <label>Schlüssel-Farbe:
            <input type="color" id="keyColor" value="#00ff00">
          </label>
          <label>Toleranz:
            <input type="range" id="tolerance" min="0" max="200" value="80">
            <span id="tolVal">80</span>
          </label>
        </div>

        <div class="row">
          <label class="file-upload small">
            <input type="file" id="bgImageInput" accept="image/*">
            <span>📁 Hintergrundbild wählen</span>
          </label>

          <label>Hintergrundfarbe:
            <input type="color" id="bgReplaceColor" value="#000000">
          </label>
        </div>

        <div class="row">
          <button id="previewReplaceBtn">🔎 Vorschau auf aktuellem Frame</button>
          <button id="applyAllBtn">🛠 Auf alle Frames anwenden</button>
          <button id="revertBtn">↺ Rückgängig (Original wiederherstellen)</button>
        </div>

        <p class="note">Hinweis: Das Entfernen arbeitet per Farbschwelle (Chroma Key). Für Personenfotografien funktioniert es am besten mit einfarbigem Hintergrund (z. B. grün).</p>
      </div>
    </div>

    <div id="keyboardGuide">
      <h3>Tastatur-Shortcuts</h3>
      <ul>
        <li><b>Leertaste</b> – Abspielen / Pausieren</li>
        <li><b>R</b> – Drehen</li>
        <li><b>F</b> – Spiegeln</li>
        <li><b>S</b> – Frames speichern</li>
      </ul>
    </div>
  </main>

  <footer>© GIF Studio – Magenta & Aqua Edition</footer>

  <script src="gifstudio.js"></script>
</body>
</html>
